name: "PRP 0.1: Development Environment Setup"
phase: 0
parallel: true
description: |
  Set up the complete development environment for Edge Craft with Node.js, TypeScript, and all necessary tools.

## 📋 Definition of Ready (DoR)

### Environment Prerequisites
- [ ] Node.js 20+ installed
- [ ] npm or yarn available
- [ ] Git installed
- [ ] VS Code or preferred IDE ready
- [ ] GitHub repository access

### Competitor Analysis Completed
- [ ] **SC2 Arcade Dev Tools**: Galaxy Editor setup time (30+ min), Windows-only limitation documented
- [ ] **W3Champions Dev Setup**: Requires W3 Reforged ($30), 5GB+ install documented
- [ ] **Unity RTS Templates**: 2-4 hour setup, 10GB+ Unity install documented
- [ ] **Our Advantage**: < 5 min setup, cross-platform, 200MB total documented

### Tool Evaluation Documented
- [ ] **Package Managers**: npm vs yarn vs pnpm comparison (npm chosen for compatibility)
- [ ] **Node Versions**: 18 vs 20 vs 21 benchmarked (20 LTS for stability)
- [ ] **IDE Support**: VS Code vs WebStorm vs Neovim evaluated
- [ ] **Version Control**: Git LFS requirements assessed for future assets

### Legal Risk Assessment
- [ ] Node.js license reviewed (MIT - safe)
- [ ] NPM package licenses will be audited with each install
- [ ] No proprietary tools required verified
- [ ] DMCA compliance for dev tools confirmed

## 📊 Definition of Done (DoD)
- [ ] Node.js project initialized with package.json
- [ ] TypeScript installed and configured
- [ ] Development server runs successfully
- [ ] Hot module replacement (HMR) working
- [ ] Source maps enabled for debugging
- [ ] .nvmrc file for Node version management
- [ ] README updated with setup instructions
- [ ] All developers can run the project locally

## 🎯 Goal
Create a consistent, reproducible development environment that all team members can use with minimal setup friction.

## 🔍 Competitor Analysis

### SC2 Arcade (Galaxy Editor)
- **Setup Time**: 30-60 minutes
- **Requirements**: StarCraft 2 client, Battle.net account
- **Size**: 30GB+ with SC2
- **Platform**: Windows/Mac only
- **Limitations**: Tied to SC2 client, proprietary toolchain
- **Our Advantage**: Web-based, no client required, open toolchain

### Warcraft 3 World Editor
- **Setup Time**: 45+ minutes
- **Requirements**: W3 Reforged ($30), Battle.net
- **Size**: 30GB+ with W3R
- **Platform**: Windows/Mac only
- **Limitations**: Requires game purchase, limited to W3 engine
- **Our Advantage**: Free, modern web tech, flexible engine

### Unity RTS Asset Packs
- **Setup Time**: 2-4 hours
- **Requirements**: Unity Hub, Unity Editor
- **Size**: 10-15GB minimum
- **Platform**: Cross-platform but heavy
- **Limitations**: Steep learning curve, heavy IDE
- **Our Advantage**: Lightweight, instant browser preview

## 🛠️ Tool Evaluation

### Package Manager Selection
| Tool | Pros | Cons | Decision |
|------|------|------|----------|
| **npm** | Default with Node, wide compatibility | Slower than alternatives | ✅ SELECTED |
| yarn | Faster, better caching | Additional tool to install | Alternative |
| pnpm | Most efficient disk usage | Less ecosystem support | Future consideration |

### Node.js Version
| Version | Pros | Cons | Decision |
|---------|------|------|----------|
| 18 LTS | Stable, long support | Missing newest features | Fallback |
| **20 LTS** | Current LTS, modern features | None significant | ✅ SELECTED |
| 21/22 | Cutting edge features | Not LTS, potential instability | Not recommended |

### IDE Comparison
| IDE | Pros | Cons | Decision |
|-----|------|------|----------|
| **VS Code** | Free, excellent TS support, extensions | None significant | ✅ PRIMARY |
| WebStorm | Best-in-class refactoring | Paid, heavy | Alternative |
| Neovim | Lightweight, fast | Steep learning curve | Power users |

## 📝 Implementation Details

### 1. Initialize Node.js Project
```bash
# Create project structure
mkdir -p edge-craft
cd edge-craft

# Initialize package.json
npm init -y

# Set Node version
echo "20.11.0" > .nvmrc

# Update package.json
{
  "name": "edge-craft",
  "version": "0.1.0",
  "type": "module",
  "engines": {
    "node": ">=20.0.0",
    "npm": ">=10.0.0"
  }
}
```

### 2. Install Core Dependencies
```bash
# Core dependencies
npm install --save \
  @babylonjs/core@^7.0.0 \
  @babylonjs/loaders@^7.0.0 \
  @babylonjs/materials@^7.0.0 \
  react@^18.2.0 \
  react-dom@^18.2.0

# Development dependencies
npm install --save-dev \
  typescript@^5.3.0 \
  @types/node@^20.0.0 \
  @types/react@^18.2.0 \
  @types/react-dom@^18.2.0 \
  vite@^5.0.0 \
  @vitejs/plugin-react@^4.2.0
```

### 3. Configure Development Scripts
```json
// package.json scripts
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "typecheck": "tsc --noEmit",
    "clean": "rm -rf dist node_modules",
    "reinstall": "npm run clean && npm install"
  }
}
```

### 4. Create Initial Project Structure
```
edge-craft/
├── src/
│   ├── main.tsx           # Entry point
│   ├── App.tsx            # Root component
│   └── vite-env.d.ts      # Vite types
├── public/
│   └── index.html
├── .gitignore
├── .nvmrc
├── package.json
├── package-lock.json
└── README.md
```

### 5. VS Code Configuration
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.tsdk": "node_modules/typescript/lib",
  "files.exclude": {
    "**/.git": true,
    "**/.DS_Store": true,
    "**/node_modules": true,
    "**/dist": true
  }
}

// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "name": "Debug in Chrome",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/src",
      "sourceMaps": true
    }
  ]
}
```

### 6. Environment Variables Setup
```bash
# .env.example
NODE_ENV=development
PORT=3000
VITE_APP_NAME=Edge Craft
VITE_DEBUG=true

# Copy for local use
cp .env.example .env
```

## ✅ Validation Checklist
```bash
# 1. Verify Node version
node --version  # Should be 20+

# 2. Install dependencies
npm install

# 3. Run development server
npm run dev
# Should start on http://localhost:3000

# 4. Test hot reload
# Make a change to src/App.tsx
# Should auto-refresh

# 5. Test TypeScript
npm run typecheck
# Should pass with no errors

# 6. Test build
npm run build
# Should create dist/ folder
```

## 📊 Success Metrics
- Development server starts in < 3 seconds
- Hot reload updates in < 1 second
- TypeScript compilation < 5 seconds
- All team members confirmed setup working

## 🚨 Common Issues & Solutions

### Issue: Port 3000 already in use
```bash
# Solution: Use different port
PORT=3001 npm run dev
```

### Issue: Node version mismatch
```bash
# Solution: Use nvm
nvm install
nvm use
```

### Issue: Permission errors on npm install
```bash
# Solution: Clear npm cache
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

## 📚 Resources
- [Vite Documentation](https://vitejs.dev/)
- [TypeScript Configuration](https://www.typescriptlang.org/tsconfig)
- [Node Version Manager](https://github.com/nvm-sh/nvm)

## 🔄 Dependencies
- None (Phase 0 - can run in parallel)

## ⏱️ Estimated Time
- **Implementation**: 2-4 hours
- **Testing**: 1 hour
- **Documentation**: 1 hour

## 👥 Assigned To
- DevOps Lead / Senior Developer

## 🚀 GitHub CI/CD Integration

### Recommended GitHub Actions Setup
```yaml
# .github/workflows/dev-environment.yml
name: Development Environment Validation

on:
  push:
    paths:
      - 'package.json'
      - 'package-lock.json'
      - '.nvmrc'
      - 'tsconfig.json'

jobs:
  validate:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest, macos-latest]
        node: [20.x, 21.x]

    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node }}
          cache: 'npm'
      - run: npm ci
      - run: npm run dev &
      - run: sleep 5 && curl http://localhost:3000
```

### Benefits of CI/CD Integration
- ✅ Automated environment validation across platforms
- ✅ Dependency vulnerability scanning
- ✅ Node version compatibility testing
- ✅ Faster onboarding for new developers
- ✅ Prevents "works on my machine" issues

## 📈 Progress Tracking
- [ ] Project initialized
- [ ] Dependencies installed
- [ ] Development server working
- [ ] Hot reload verified
- [ ] Documentation complete
- [ ] Team verified setup
- [ ] GitHub Actions CI/CD configured